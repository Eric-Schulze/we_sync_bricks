{{define "bricklink-item-result"}}
<div class="search-result" style="padding: 1rem; border: 1px solid #e5e7eb; border-radius: 6px; background-color: white;">
    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
        <div>
            <h4 style="margin: 0; color: #374151; font-weight: 600;">{{.Item.Name}}</h4>
            <p style="margin: 0.25rem 0; color: #6b7280; font-size: 0.875rem;">
                <strong>ID:</strong> {{.Item.No}} | <strong>Type:</strong> {{.Item.Type}}
            </p>
            {{if .Item.CategoryID}}
            <p style="margin: 0.25rem 0; color: #6b7280; font-size: 0.875rem;">
                <strong>Category ID:</strong> {{.Item.CategoryID}}
            </p>
            {{end}}
        </div>
        <button type="button" 
                class="btn btn-primary" 
                style="padding: 0.375rem 0.75rem; font-size: 0.875rem;"
                onclick="useThisItem('{{.Item.No}}', '{{.Item.Name}}')">
            Use This Item
        </button>
    </div>
</div>

<script>
function useThisItem(itemId, itemName) {
    // Fill in the form fields with the selected item data
    document.getElementById('name').value = itemName;
    document.getElementById('description').value = 'Bricklink Item: ' + itemId;
    
    // Clear the search results
    document.getElementById('search-results').innerHTML = '';
    document.getElementById('bricklink-search').value = '';
    
    // Scroll to the form
    document.getElementById('name').focus();
}
</script>
{{end}}